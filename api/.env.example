# Server Configuration
NODE_ENV=development
PORT=3000

# =============================================================================
# SECURITY - CRITICAL FOR PRODUCTION
# =============================================================================
#
# JWT_SECRET: MUST be changed before production deployment!
# Generate a secure secret with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Requirements:
#   - Minimum 32 characters
#   - Must NOT be "your-secret-key-change-this-in-production"
#   - Server will REFUSE TO START with invalid secret in production
#
JWT_SECRET=your-secret-key-change-this-in-production

# =============================================================================
# DATABASE - PostgreSQL Connection
# =============================================================================
# Format: postgresql://user:password@host:port/database
#
# Local development (use docker compose in /docker folder):
#   cd docker && docker compose up -d
#   docker exec alchemix-postgres psql -U memmachine -c "CREATE DATABASE alchemix;"
#
# Railway: Use DATABASE_URL from PostgreSQL plugin
#
DATABASE_URL=postgresql://memmachine:memmachinepassword@localhost:5432/alchemix

# =============================================================================
# FRONTEND URL - REQUIRED IN PRODUCTION
# =============================================================================
# This URL is used for CORS configuration and email verification links.
# In production, this MUST be set to your actual frontend domain.
# Server will REFUSE TO START without this in production.
#
FRONTEND_URL=http://localhost:3001

# AI Service (optional) - Gemini 3 Pro
# Get your API key from: https://aistudio.google.com/apikey
GEMINI_API_KEY=your-api-key-here

# MemMachine Memory Service (optional - for AI memory features)
# Note: MemMachine runs on port 8080 by default when using Docker
MEMMACHINE_API_URL=http://localhost:8080

# =============================================================================
# Email Service - For email verification and password reset
# =============================================================================
#
# Provider Priority:
#   1. Resend (if RESEND_API_KEY is set) - Recommended
#   2. SMTP (if SMTP_HOST, SMTP_USER, SMTP_PASS are set) - Fallback
#   3. Console (development) - Logs emails to console
#
# -----------------------------------------------------------------------------
# RESEND SETUP (Recommended - Free tier: 3,000 emails/month)
# -----------------------------------------------------------------------------
# 1. Sign up at https://resend.com
# 2. Get API key from Dashboard > API Keys
# 3. For testing, use onboarding@resend.dev (no domain verification needed)
# 4. For production, verify your domain in Resend dashboard
#
RESEND_API_KEY=re_xxxxxxxxxxxx
EMAIL_FROM=AlcheMix <onboarding@resend.dev>
#
# -----------------------------------------------------------------------------
# SMTP FALLBACK (Alternative to Resend)
# -----------------------------------------------------------------------------
#
# GMAIL SETUP (Free, good for testing/small scale)
# 1. Enable 2-Factor Authentication on your Google account
# 2. Go to: Google Account > Security > 2-Step Verification > App passwords
# 3. Create a new app password (select "Mail" and your device)
# 4. Copy the 16-character password (no spaces) to SMTP_PASS
#
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=xxxx-xxxx-xxxx-xxxx
# SMTP_FROM=AlcheMix <your-email@gmail.com>
#
# SENDGRID SETUP (Free tier: 100 emails/day)
# 1. Create account at https://sendgrid.com
# 2. Go to: Settings > API Keys > Create API Key (Full Access)
# 3. Verify a sender identity (Settings > Sender Authentication)
#
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASS=SG.your-api-key-here
# SMTP_FROM=AlcheMix <verified-sender@yourdomain.com>
#
# MAILGUN SETUP (Free tier: 5,000 emails/month for 3 months)
# 1. Create account at https://mailgun.com
# 2. Add and verify your domain
# 3. Go to: Sending > Domain settings > SMTP credentials
#
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USER=postmaster@your-domain.mailgun.org
# SMTP_PASS=your-mailgun-smtp-password
# SMTP_FROM=AlcheMix <noreply@your-domain.com>
#
# AMAZON SES SETUP (Pay-per-use, very cheap at scale)
# 1. Set up SES in AWS Console
# 2. Verify your domain or email addresses
# 3. Create SMTP credentials in SES > SMTP settings
#
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=your-ses-smtp-username
# SMTP_PASS=your-ses-smtp-password
# SMTP_FROM=AlcheMix <noreply@your-verified-domain.com>